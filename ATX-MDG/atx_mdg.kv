#:kivy 1.8

#:import label kivy.uix.label
#:import lv kivy.uix.listview
#:import btn kivy.uix.button
#:import pop kivy.uix.popup
#:import sv kivy.uix.scrollview
#:import la kivy.adapters.listadapter
#:import sla kivy.adapters.simplelistadapter
#:import dld drugs.drug_data_list_of_dicts
#:import dd drugs.drug_data
#:import d drugs.drugs
#:import ddd drugs.drug_detail
#:import dlv main.DrugListView

<MainView>:
	
	orientation: "vertical"
	
<DrugListView>:
	list_view: list_view_id
    ListView:
        id: list_view_id
        orientation: "vertical"
        adapter:
            la.ListAdapter(
            data = d,
            selection_mode = 'single',
            allow_empty_selection = True,
            cls = lv.ListItemButton)
            
<DrugListViewDetail>:
	id: dlvd_id
	detail_view: detail_view_id
	title: dd[root.curr_drug]["drug"]
	title_size: 24
	
	ScrollView:
		size_hint: 1, 1
		do_scroll_x: False
		
		GridLayout:
			cols: 1
			spacing: 10
			size_hint: 1, None
			height: detail_view_id.texture_size[1] + detail_btn_id.height + 10
			default_row_height: 100
			
			Label:
				id: detail_view_id
				text: "[b]Adult Dosage:[/b]\n" + str(dd[root.curr_drug]["adult dosage"]) + "\n\n" + "[b]Pedi Dosage:[/b]\n" + str(dd[root.curr_drug]["pedi dosage"]) + "\n\n" + "[b]Indications:[/b]\n" + str(dd[root.curr_drug]["indications"]) + "\n\n"+ "[b]Contraindications:[/b]\n" + str(dd[root.curr_drug]["contraindications"]) + "\n\n"+ "[b]Adverse Effects:[/b]\n" + str(dd[root.curr_drug]["adverse effects"]) + "\n\n"+ "[b]Class:[/b]\n" + str(dd[root.curr_drug]["class"]) + "\n\n"+ "[b]Pharmacokinetics:[/b]\n" + str(dd[root.curr_drug]["pharmacokinetics"]) + "\n\n"+ "[b]Action:[/b]\n" + str(dd[root.curr_drug]["action"]) + "\n\n"
				text_size: self.width, None
				size_hint: 1, None
				size: self.parent.width, self.texture_size[1]
				markup: True
				
			Button:
				id: detail_btn_id
				size_hint_y: None
				text: "Close"
				height: 50
				on_press: root.dismiss()

	
            
<ListItemButton>: 
	size: 400, 200
    deselected_color: (0.156, 0.391, 0.625, 1)
    selected_color: (0.062, 0.156, 0.250, 1)

    

	
	
    

	
		
	      
			
